<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Crawling i Scraping d'una web a Markdown"><title>Web to Markdown</title><link rel=canonical href=https://bernatbc.tk/dgsi/post/dijous-27-febrer/><link rel=stylesheet href=/dgsi/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Web to Markdown"><meta property='og:description' content="Crawling i Scraping d'una web a Markdown"><meta property='og:url' content='https://bernatbc.tk/dgsi/post/dijous-27-febrer/'><meta property='og:site_name' content='Portfoli DGSI - Bernat Borràs'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2025-02-27T11:30:03+00:00'><meta property='article:modified_time' content='2025-02-27T11:30:03+00:00'><meta property='og:image' content='https://bernatbc.tk/dgsi/post/dijous-27-febrer/web-to-markdown.png'><meta name=twitter:title content="Web to Markdown"><meta name=twitter:description content="Crawling i Scraping d'una web a Markdown"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://bernatbc.tk/dgsi/post/dijous-27-febrer/web-to-markdown.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><div class=site-meta><h1 class=site-name><a href=/dgsi>Portfoli DGSI - Bernat Borràs</a></h1><h2 class=site-description>Portfoli de l'assignatura Desenvolupament i Gestió de Sistemes d'Informació d'en Bernat Borràs Civil</h2></div></header><ol class=menu id=main-menu><li><a href=/dgsi/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Inici</span></a></li><li><a href=/dgsi/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Arxiu</span></a></li><li><a href=/dgsi/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Cerca</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Mode fosc</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Taula de contingut</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#introducció-al-markdown>Introducció al Markdown</a></li><li><a href=#hackathon>Hackathon</a><ol><li><a href=#enunciat>Enunciat</a></li><li><a href=#la-solució>La solució</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/dgsi/post/dijous-27-febrer/><img src=/dgsi/post/dijous-27-febrer/web-to-markdown_hu_53dea12d3581d67f.png srcset="/dgsi/post/dijous-27-febrer/web-to-markdown_hu_53dea12d3581d67f.png 800w, /dgsi/post/dijous-27-febrer/web-to-markdown_hu_93f9c47197514b93.png 1600w" width=800 height=333 loading=lazy alt="Featured image of post Web to Markdown"></a></div><div class=article-details><header class=article-category><a href=/dgsi/categories/laboratori/ style=background-color:#6b69d6;color:#fff>Laboratori</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/dgsi/post/dijous-27-febrer/>Web to Markdown</a></h2><h3 class=article-subtitle>Crawling i Scraping d'una web a Markdown</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>dijous 27 de febrer, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>3 minuts a llegir</time></div></footer></div></header><section class=article-content><h2 id=introducció-al-markdown>Introducció al Markdown</h2><p>Abans de començar la segona mini-hackathon del curs, en Marc va comentar un parell de coses sobre Markdown, que em van cridar l’atenció. La primera va ser quan va comentar que existia l’aplicació <a class=link href=https://obsidian.md/ target=_blank rel=noopener>Obsidian</a>, una alternativa a <a class=link href=https://www.notion.com/ target=_blank rel=noopener>Notion</a>. En Marc va comentar que Obsidian és de codi obert, però és completament fals. És veritat que Obsidian és gratis, però no és Open Source. No culpo en Marc, perquè és una concepció comuna popular, ja que tot i que Obsidian té una organització a GitHub, però no conté el codi font. Fins i tot, en el <a class=link href=https://github.com/obsidianmd/obsidian-releases/blob/master/README.md target=_blank rel=noopener>README.md</a> del repositori <a class=link href=https://github.com/obsidianmd/obsidian-releases target=_blank rel=noopener>obsidianmd/obsidian-releases</a>, conté la següent frase: <em>&ldquo;Obsidian is not open source software and this repo DOES NOT contain the source code of Obsidian.&rdquo;</em>. El segon comentari que em va cridar l’atenció és que digués que la seva pàgina personal estava feta amb <a class=link href=https://gohugo.io/ target=_blank rel=noopener>gohugo</a>. La meva pàgina web també està feta amb gohugo. De fet, soc mantainer del tema <a class=link href=https://github.com/hugo-toha target=_blank rel=noopener>hugo-toha</a>, tema que utilitzo per a la meva pàgina web.</p><h2 id=hackathon>Hackathon</h2><p>Centrant-nos en la hackathon en si, no és que hagi après gran cosa. Ja coneixia tècniques de crawling i web-scraping, però mai havia fet cap aplicació amb això. L’aplicació creada em sembla útil en 2 casos. El primer és si vols desar-te els continguts de la web en qüestió en local. D’aquesta manera, com que no està estructurat, totes les pàgines desades tenen el mateix “format”. La segona raó, és en el cas que vulguis fer un model que s’entreni amb informació de pàgines web. Eliminant totes les etiquetes d&rsquo;HTML, estàs reduint la mida d’aquests fitxers, i eliminant soroll que produeixen aquestes etiquetes.</p><h3 id=enunciat>Enunciat</h3><p>En aquesta segona hackathon, havíem de construir una eina que permetés obtenir documents Markdown la pàgina de la <a class=link href=https://fib.upc.edu target=_blank rel=noopener>FIB</a>, mitjançant tècniques de <a class=link href=https://en.wikipedia.org/wiki/Web_crawler target=_blank rel=noopener>Crawling</a> i <a class=link href=https://en.wikipedia.org/wiki/Web_scraping target=_blank rel=noopener>Web scraping</a>. Aquests fitxers Markdown també havíen de tenir les imatges i taules ben formatades. Aquests documents els necessitaríem per a pròximes hackathons.</p><h3 id=la-solució>La solució</h3><p>Acompanyat amb els meus companys, hem creat una pàgina web on l&rsquo;usuari introdueix un enllaç d&rsquo;una pàgina web. Després d&rsquo;una estona (varia segons la mida de la pàgina), l&rsquo;usuari obté un arxiu comprimit amb tots els fitxers Markdown, estructurats segons les subpàgines, amb totes les imatges, arxius PDF i altres. Les taules dels documents, s&rsquo;han generat seguint l&rsquo;estàndard de Markdown.</p><p>Per fer aquest projecte, hem utilitzat Python com a llenguatge principal. Per al servei API, igual que a la primera hackathon, hem usat <a class=link href=https://fastapi.tiangolo.com/ target=_blank rel=noopener>FastAPI</a>.</p><p>Per tal de fer el crawling, hem creat una cua on afegim les pàgines de tots els enllaços trobats a la pàgina introduïda. Hem fet servir la biblioteca <a class=link href=https://trafilatura.readthedocs.io/en/latest/ target=_blank rel=noopener>trafilatura</a> per a obtenir els fitxers HTML, <a class=link href=https://www.crummy.com/software/BeautifulSoup/ target=_blank rel=noopener>Beautiful Soup</a> i <a class=link href=https://alir3z4.github.io/html2text/ target=_blank rel=noopener>html2text</a> per a fer el parseig d&rsquo;HTML a Markdown.</p><p>Per tal d&rsquo;executar el projecte, donem 2 possibilitats. La primera és executar-la en local mitjançant <a class=link href=https://www.uvicorn.org/ target=_blank rel=noopener>Uvicorn</a>, i la segona és mitjançant un contenidor <a class=link href=https://www.docker.com/ target=_blank rel=noopener>Docker</a> amb el Dockerfile que proporcionem.</p><p>Per a més informació sobre el projecte, podeu donar un cop d&rsquo;ull al <a class=link href=https://github.com/DGSI-UPC/Web-to-Markdown/blob/main/README.md target=_blank rel=noopener>README</a> del projecte. Al següent enllaç trobareu el codi font del projecte:</p><p><a class=link href=https://github.com/DGSI-UPC/Web-to-Markdown target=_blank rel=noopener>Veure a GitHub</a></p></section><footer class=article-footer><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Última vegada actualitzat dijous 27 de febrer, 2025</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Continguts relacionats</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/dgsi/post/dimarts-27-maig/><div class=article-image><img src=/dgsi/post/dimarts-27-maig/react.9d6d6588169734b4f82494d787799805_hu_2d2bce0c383ebc6f.webp width=250 height=150 loading=lazy alt="Featured image of post Creant Agents" data-key=dimarts-27-maig data-hash="md5-nW1liBaXNLT4JJTXh3mYBQ=="></div><div class=article-details><h2 class=article-title>Creant Agents</h2></div></a></article><article class=has-image><a href=/dgsi/post/dijous-22-maig/><div class=article-image><img src=/dgsi/post/dijous-22-maig/claude.967a6833f96e6297990363923d897882_hu_a82c8374381f348a.png width=250 height=150 loading=lazy alt="Featured image of post Model Context Protocol I" data-key=dijous-22-maig data-hash="md5-lnpoM/luYpeZA2OSPYl4gg=="></div><div class=article-details><h2 class=article-title>Model Context Protocol I</h2></div></a></article><article class=has-image><a href=/dgsi/post/dijous-15-maig/><div class=article-image><img src=/dgsi/post/dijous-15-maig/browser-use.4e52686126890f95782d0a913738b710_hu_8e82eb802b9c2d1a.png width=250 height=150 loading=lazy alt="Featured image of post Agents I: Broswer-use" data-key=dijous-15-maig data-hash="md5-TlJoYSaJD5V4LQqRNzi3EA=="></div><div class=article-details><h2 class=article-title>Agents I: Broswer-use</h2></div></a></article><article class=has-image><a href=/dgsi/post/dijous-08-maig/><div class=article-image><img src=/dgsi/post/dijous-08-maig/mrp.5cff345cf218df0df174561cb24820e4_hu_f17c38fbf74814b2.png width=250 height=150 loading=lazy alt="Featured image of post MRP d'impressores 3D II" data-key=dijous-08-maig data-hash="md5-XP80XPIY3w3xdFYcskgg5A=="></div><div class=article-details><h2 class=article-title>MRP d'impressores 3D II</h2></div></a></article><article class=has-image><a href=/dgsi/post/dijous-24-abril/><div class=article-image><img src=/dgsi/post/dijous-24-abril/mrp.5cff345cf218df0df174561cb24820e4_hu_f17c38fbf74814b2.png width=250 height=150 loading=lazy alt="Featured image of post MRP d'impressores 3D I" data-key=dijous-24-abril data-hash="md5-XP80XPIY3w3xdFYcskgg5A=="></div><div class=article-details><h2 class=article-title>MRP d'impressores 3D I</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 Portfoli DGSI - Bernat Borràs</section><section class=powerby>Creat amb <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Tema <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> dissenyat per <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/dgsi/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>